@model product_inventory_system.Models.Product

@{
    bool addOperation = Model == null;
    var formTitle = addOperation ? "Add Product" : "Edit Product";
    var submitUrl = addOperation 
        ? Url.Action("AddProduct", "Product") 
        : Url.Action("EditProduct", "Product");
}

@{
    ViewData["Title"] = addOperation ? "Add New Product" : "Edit Product";
}

<div class="container form-container d-flex justify-content-center align-items-center">
    <div>
        <div id="alert-message" class="alert d-none" role="alert"></div>
        <form id="product-form" class="border rounded p-4 shadow bg-light" style="min-width: 400px;">
            <h4 class="text-center mb-4">@formTitle</h4>

            <div class="mb-3">
                <label for="product-name" class="form-label">Product Name</label>
                <input type="text" name="productname" id="product-name" class="form-control" value="@Model?.ProductName" required>
            </div>

            <div class="mb-3">
    			<label for="category" class="form-label">Category</label>
    			<select id="category" name="category" class="form-select" value="@Model?.Category" required>
        			<option value="" selected disabled>-- Select Category --</option>
        			<option value="electronics">Electronics</option>
        			<option value="clothing">Clothing</option>
        			<option value="books">Books</option>
        			<option value="furniture">Furniture</option>
        			<option value="toys">Toys</option>
        			<option value="beauty">Beauty & Personal Care</option>
        			<option value="home">Home & Kitchen</option>
        			<option value="sports">Sports & Outdoors</option>
        			<option value="automotive">Automotive</option>
        			<option value="grocery">Grocery</option>
        			<option value="office">Office Supplies</option>
        			<option value="health">Health & Wellness</option>
        			<option value="jewelry">Jewelry & Accessories</option>
        			<option value="garden">Garden & Outdoors</option>
        			<option value="pet">Pet Supplies</option>
    			</select>
			</div>


            <div class="mb-3">
                <label for="quantity" class="form-label">Quantity</label>
                <input type="number" name="quantity" id="quantity" class="form-control" min="1" value="@Model?.Quantity" required>
            </div>

            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="number" name="price" id="price" class="form-control" step="0.01" min="0" value="@Model?.Price" required>
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea id="description" name="description" rows="4" class="form-control" required>@Model?.Description</textarea>
            </div>

            <div class="d-grid">
                <button type="submit" class="btn btn-primary">@formTitle</button>
            </div>
            <div class="d-grid cancel-button">
                <button onclick="cancelOperation('@Url.Action("Index","Home")')" class="btn btn-warning">Cancel</button>
            </div>
        </form>
    </div>
</div>


@section Scripts{
	<script src="~/js/add-edit-product.js"></script>
	<script>
		handleRequest("@submitUrl","@Model?.Id");
	</script>
}